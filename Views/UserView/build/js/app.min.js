function addQuantityField(a){a.forEach(function(a){a.quantity=0})}var app=angular.module("userOrder",[]);console.log("The app is initializing ... "),app.controller("orderController",["$scope",function(a){addQuantityField(fromServerItems),a.order=orderModel,a.items=fromServerItems,a.sendOrder=submitOrder,a.addItem=putItem,a.removeItem=removeItem}]);var submitOrder=function(a){console.log("The order will send with data : "),console.dir(a)},putItem=function(a,b){var c,d=findByName(a.name,b);if(void 0===d)c={name:a.name,quantity:1},b.items.push(c);else{var e=b.items.indexOf(d);c=b.items[e],c.quantity+=1}a.quantity=c.quantity,console.log("The order now : "),console.dir(b)},removeItem=function(a,b){var c,d=findByName(a.name,b);if(void 0!==d){var e=b.items.indexOf(d);c=b.items[e],d.quantity<=1?(b.items.splice(e,1),c.quantity=0):c.quantity-=1,a.quantity=c.quantity}else console.error("El resultado de la busqueda es indefinido !");console.log("The order now : "),console.dir(b)},findByName=function(a,b){return b.items.find(function(b){return b.name===a})},orderModel={name:"",address:"",celNumber:"",items:[],additionalFields:{additionalNote:""}},pizzaModel={name:"",description:"",price:""},fromServerItems=[{name:"Muzzarella",description:"",price:0},{name:"Napolitana",description:"...",price:0},{name:"Fugazzeta",description:"...",price:0},{name:"Especial",description:"...",price:0},{name:"Anana",description:"...",price:0},{name:"Especial con jamon",description:"...",price:0},{name:"Chocolate",description:"...",price:0}];