function addQuantityField(a){a.forEach(function(a){a.quantity=0})}var app=angular.module("userOrder",[]);console.log("The app is initializing ... "),app.controller("orderController",["$scope",function(a){addQuantityField(fromServerItems),a.order=orderModel,a.items=fromServerItems,a.sendOrder=submitOrder,a.addItem=putItem,a.removeItem=removeItem}]);var submitOrder=function(a){console.log("The order will send with data : "),console.dir(a)},putItem=function(a,b){var c,d=findByName(a.name,b);if(void 0===d)c={name:a.name,quantity:1},b.items.push(c);else{var e=b.items.indexOf(d);c=b.items[e],c.quantity+=1}a.quantity=c.quantity,a.displayable=a.quantity>0?"displayable":"",b.total+=a.price,console.log("The order now : "),console.dir(b)},removeItem=function(a,b){var c,d=findByName(a.name,b);if(void 0!==d){var e=b.items.indexOf(d);c=b.items[e],d.quantity<=1?(1==d.quantity&&(b.total-=a.price),b.items.splice(e,1),c.quantity=0):(c.quantity-=1,b.total-=a.price),a.quantity=c.quantity,a.displayable=a.quantity>0?"displayable":""}else console.error("El resultado de la busqueda es indefinido !");console.log("The order now : "),console.dir(b)},findByName=function(a,b){return b.items.find(function(b){return b.name===a})},orderModel={name:"",address:"",celNumber:"",payWith:null,total:0,items:[],additionalFields:{additionalNote:""}},pizzaModel={name:"",description:"",price:""},fromServerItems=[{name:"Muzzarella",description:"Muzzarella , Salsa de Tomate , Aceitunas , Oregano",price:80},{name:"Muzzarella ( Chica )",description:"Muzzarella , Salsa de Tomate , Aceitunas , Oregano",price:60},{name:"Napolitana",description:"Queso , Salsa de Tomate , Aceitunas , Oregano , Rodajas de Tomate",price:90},{name:"Napolitana ( Chica )",description:"Queso , Salsa de Tomate , Aceitunas , Oregano , Rodajas de Tomate",price:70},{name:"Fugazzeta",description:"Queso , Salsa de Tomate , Aceitunas , Oregano , Cebolla en tiras",price:95},{name:"Fugazzeta ( Chica )",description:"Queso , Salsa de Tomate , Aceitunas , Oregano , Cebolla en tiras",price:75},{name:"Especial",description:"Muzzarella , Salsa de Tomate , Aceitunas , Oregano , Jamon , Tomates",price:100},{name:"Especial ( Chica )",description:"Muzzarella , Salsa de Tomate , Aceitunas , Oregano , Jamon , Tomates",price:80},{name:"Anana",description:"Muzzarella , Salsa de Tomate , Aceitunas , Oregano , Rodajas de Anana",price:100},{name:"Anana ( Chica )",description:"Muzzarella , Salsa de Tomate , Aceitunas , Oregano , Rodajas de Anana ",price:80}];